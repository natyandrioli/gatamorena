/*
     D Loja Virtual
 @link          http://www.dlojavirtual.com
 @package       app.FrontEnd.Js
 @since         v 1.0
 @author        Bruno Lehnen Simões
  @description   Revealing modules responsaveis pelo roteamento e pelas requisições aos Web Services
*/
var AppWidgets=function(){function a(a,b){b&&($.isArray(b)?$.each(b,function(b,d){a.addClass(d)}):a.addClass(b))}function b(b,c){var d=$("<"+b+" />",c.options);d.append(c.child);a(d,c.classes);return d}function c(a,c,e){return b("div",{classes:["grid-"+a,"alpha","omega"],child:c,options:e})}function e(a,c){return b("div",{classes:"row",child:a})}return{row:e,grid:c,button:function(a,c,e){e=e?e:[];var d=[];d.push('<span class="btn-icon"></span>');d.push('<span class="btn-text">'+a+"</span>");e.unshift("btn");
return b("button",{child:d,options:c,classes:e})},gridRow:function(a,b,g){var d=[];$.each(b,function(a,b){d.push(e(b))});return c(a,d,g)},customElement:b}}(),App={loaded:[],current:null,currentId:"cart-products",loadImage:null,getLoadImage:function(){var a=$("<div />");a.addClass("loading-cart");return a},refreshApp:function(){$.each($(document.head).children("script"),function(a,b){$("<script />",{type:b.type,src:b.src});$(b).remove();$(document.head).append(b)})},initJSON:function(a){window.JSON?
a.call(this):App.include("json",a)},init:function(){App.initJSON(function(){$(".one-step-checkout-item").show();App.Slider=$("#one-step-checkout-main").bxSlider({mode:"horizontal",captions:!1,responsive:!0,auto:!1,pager:!1,controls:!1,touchEnabled:!1,pagerSelector:null,infiniteLoop:!1,useCSS:!1,onSlideAfter:App.afterSlideCallback,onSlideBefore:App.beforeSlideCallback});App.beforeSlideCallback(document.getElementById("cart-products"),function(){$(document.body).on("click",".cart-slider-submit",function(a){"function"===
typeof App.current.submit&&App.current.submit.call(this,"click")});$(document.body).on("keyup",null,function(a){13==a.which&&"cart-products"!=App.currentId&&typeof App.isValidCallback(App.current.submit)&&App.current.submit("key")})})})},beforeSlideCallback:function(a,b){App.currentId=$(a).attr("id");App.include("carrinho/"+App.currentId,null,function(){App.current=window[App.currentId.toCamel()];App.loadComponents(App.current,null,function(){App.current.box=$(a);App.current.loading=$(a).children(".box-loading");
App.current.loadingStart=function(){App.current.loading.show()};App.current.loadingComplete=function(){App.current.loading.hide()};App.current.init(b)})})},afterSlideCallback:function(a){"undefined"!==typeof App.current.focusObj&&App.current.focusObj.focus()},loadComponents:function(a,b,c){a.components&&a.components.length?(App.initCallback(b),function d(){if(a.components.length){var b=a.components.shift(),g=b.toCamel()+"Component";App.include(g,null,function(c){a[b]=window[g];d()})}else App.initCallback(c)}()):
App.initCallback(c)},include:function(a,b,c){"carrinho/cart-products"==a?a="carrinho/cart-products.min.8538":"carrinho/cart-final"==a?a="carrinho/cart-final.min.778":"ShippingComponent"==a?a="ShippingComponent.min.7798":"PaymentComponent"==a&&(a="PaymentComponent.min.516");var e=base_url+"frontend/js/"+a+".js";a=App.loaded.length;for(var d=0;d<a;d++)if(App.loaded[d]==e)return App.initCallback(c),!0;App.initCallback(b);$.getScript(e,function(){App.loaded.push(e);App.initCallback(c)})},objLen:function(a){var b=
0;$.each(a,function(a,e){"object"===typeof e&&null!==e&&b++});return b},initCallback:function(a,b,c){"function"==typeof a&&a.call(c?c:this,b)},isValidCallback:function(a){return"function"==typeof a},emptyCartIcon:function(){$(".list-products-shopping-cart ul").children("li").remove();$(".shopping-cart-total-products").html("0");$(".shopping-cart-total-price, .total-price-shopping-cart").each(function(a,b){$(b).html("Seu carrinho est\u00e1 vazio")});$(".cart-action-buttons").hide()},deleteProductIcon:function(a){comb=
$(".cart-comb-"+a.CatalogoCarrinho.estoque_id).remove();App.refreshCartIcon(a)},refreshCartIcon:function(a){var b=$(".shopping-cart-total-products"),c=$(".list-products-shopping-cart").first().children("ul").children("li").length;del="undefined"===typeof del?!1:del;a.CatalogoCarrinho&&(a.total_carrinho=a.CatalogoCarrinho.valor_total_produtos,a.estoque_id=a.CatalogoCarrinho.estoque_id);a.count_itens=c?c:"";a.count_itens?b.html(a.count_itens):b.html("");$(".shopping-cart-total-price,.total-price-shopping-cart").each(function(b,
c){$(c).html(a.total_carrinho)});$(".cart-action-buttons").show()},addProductIcon:function(a,b){$(b[0]).parent().hasClass("noimage")&&(b=$(b[0]).parent());a.CatalogoCarrinho&&(a={nome_produto:a.CatalogoCarrinhoProduto.nome_produto,total_produto:a.CatalogoCarrinhoProduto.valor_total,quantidade_produto:a.CatalogoCarrinhoProduto.quantidade_produto,estoque_id:a.CatalogoCarrinhoProduto.estoque_id,total_carrinho:a.CatalogoCarrinho.valor_total_produtos,combinacoes:a.CatalogoCarrinhoProduto.combinacoes});
var c=$(".cart-comb-"+a.estoque_id);b=$(b).clone();if(c.length)d=$.parseJSON(a.combinacoes),0<d.length?(f=a.nome_produto+" ("+a.quantidade_produto+")",$.each(d,function(a,b){f+="<br/><span>"+b.Combinacao.combinacao+": "+b.Combinacao.atributo+"</span>"}),f+="</span>",c.children(".name-product-shopping-cart").html(f)):c.children(".name-product-shopping-cart").html(a.nome_produto+" ("+a.quantidade_produto+")"),c.children(".price-product-shopping-cart").html(a.total_produto);else{c=$(".list-products-shopping-cart").children("ul");
var e=document.createElement("li");tot=$(".total-price-shopping-cart-wrapper");e.className="cart-comb-"+a.estoque_id;d=document.createElement("div");d.className="img-product-shopping-cart";$(d).append(b);$(e).append(d);var d=$.parseJSON(a.combinacoes);if(0<d.length){var f='<span class="name-product-shopping-cart">'+a.nome_produto;$.each(d,function(a,b){f+="<br/><span>"+b.Combinacao.combinacao+": "+b.Combinacao.atributo+"</span>"});f+="</span>";e.innerHTML+=f}else e.innerHTML+='<span class="name-product-shopping-cart">'+
a.nome_produto+"</span>";e.innerHTML+='<span class="price-product-shopping-cart">'+a.total_produto+"</span>";c.append(e)}App.refreshCartIcon(a)}};